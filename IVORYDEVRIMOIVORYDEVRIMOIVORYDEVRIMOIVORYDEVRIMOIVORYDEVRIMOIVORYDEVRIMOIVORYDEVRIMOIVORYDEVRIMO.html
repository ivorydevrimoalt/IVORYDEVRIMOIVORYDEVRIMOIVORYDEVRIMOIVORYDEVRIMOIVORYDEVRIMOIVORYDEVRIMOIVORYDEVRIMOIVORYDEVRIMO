<!DOCTYPE html>
<html>
<head>
<title>Video Challenge</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    background-color: black;
    color: white;
  }
  .video-container {
    display: flex;
    gap: 20px;
  }
  .video-wrapper {
    position: relative;
    width: 320px;
    height: 240px;
    overflow: hidden;
    border: 2px solid white;
  }
  .video-wrapper video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .lock-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
  }
  #sound-button {
    margin-top: 20px;
    padding: 10px 20px;
    background-color: red;
    color: white;
    border: none;
    cursor: pointer;
  }
  .fullscreen-video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    background-color: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .fullscreen-video video {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }
</style>
</head>
<body>
  <div class="video-container">
    <div class="video-wrapper" id="video1-wrapper">
      <video id="video1" src="https://raw.githubusercontent.com/ivorydevrimoalt/IVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMO/refs/heads/main/R.mp4" controls></video>
      <div class="lock-overlay" id="lock1">Locked</div>
    </div>
    <div class="video-wrapper" id="video2-wrapper">
      <video id="video2" src="https://raw.githubusercontent.com/ivorydevrimoalt/IVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMO/refs/heads/main/A.mp4" controls></video>
      <div class="lock-overlay" id="lock2">Locked</div>
    </div>
    <div class="video-wrapper" id="video3-wrapper">
      <video id="video3" src="https://raw.githubusercontent.com/ivorydevrimoalt/IVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMO/refs/heads/main/S.mp4" controls></video>
    </div>
  </div>
  <button id="sound-button">X X X</button>

  <script>
    const video1 = document.getElementById('video1');
    const video2 = document.getElementById('video2');
    const video3 = document.getElementById('video3');
    const lock1 = document.getElementById('lock1');
    const lock2 = document.getElementById('lock2');
    const video1Wrapper = document.getElementById('video1-wrapper');
    const video2Wrapper = document.getElementById('video2-wrapper');
    let video1Watched = false;
    let video2Watched = false;
    let soundPlaying = false;
    let shakeInterval;
    const soundButton = document.getElementById('sound-button');

    video1.addEventListener('ended', () => {
      video1Watched = true;
      lock1.style.display = 'none';
      lock2.style.display = 'flex';
    });

    video2.addEventListener('ended', () => {
      video2Watched = true;
      lock2.style.display = 'none';
    });

    lock1.addEventListener('click', () => {
      shakeElement(video1Wrapper);
    });

    lock2.addEventListener('click', () => {
      shakeElement(video2Wrapper);
    });

    function shakeElement(element) {
      let intensity = 4;
      const startTime = performance.now();
      const duration = 200; // 0.2 seconds

      function animate(time) {
        let progress = (time - startTime) / duration;
        if (progress > 1) progress = 1;

        const currentIntensity = intensity * (1 - progress);
        const offsetX = Math.sin(time * 0.1) * currentIntensity;
        element.style.transform = `translateX(${offsetX}px)`;

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          element.style.transform = '';
        }
      }

      requestAnimationFrame(animate);
    }

    soundButton.addEventListener('click', () => {
      if (!soundPlaying) {
        soundPlaying = true;
        const audio = new Audio('https://raw.githubusercontent.com/ivorydevrimoalt/IVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMOIVORYDEVRIMO/refs/heads/main/a.wav'); // Replace with your sound file
        audio.play();

        shakeInterval = setInterval(() => {
          video1Wrapper.style.transform = `translateX(${Math.sin(Date.now() * 0.05) * 0}px)`;
          video2Wrapper.style.transform = `translateX(${Math.sin(Date.now() * 0.05) * 0}px)`;
        }, 16);

        audio.addEventListener('ended', () => {
          soundPlaying = false;
          clearInterval(shakeInterval);
          video1Wrapper.style.transform = '';
          video2Wrapper.style.transform = '';
          window.location.href = 'chrome://kill';
        });
      }
    });

    function fullscreenVideo(videoElement) {
      const fullscreenDiv = document.createElement('div');
      fullscreenDiv.className = 'fullscreen-video';
      const fullscreenVideoElement = videoElement.cloneNode(true);
      fullscreenVideoElement.controls = true;
      fullscreenDiv.appendChild(fullscreenVideoElement);
      document.body.appendChild(fullscreenDiv);

      fullscreenVideoElement.play();

      fullscreenVideoElement.addEventListener('ended', () => {
        document.body.removeChild(fullscreenDiv);
      });
    }

    video1.addEventListener('click', () => {
      if (lock1.style.display !== 'none') return;
      fullscreenVideo(video1);
    });

    video2.addEventListener('click', () => {
      if (lock2.style.display !== 'none') return;
      fullscreenVideo(video2);
    });

        video3.addEventListener('click', () => {
      fullscreenVideo(video3);
    });

    window.addEventListener('blur', () => {
      alert("WHERE ARE YOU GOING, COME BACK");
    });
  </script>
</body>
</html>
